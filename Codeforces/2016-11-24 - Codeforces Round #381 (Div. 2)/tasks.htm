<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html><head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="X-Csrf-Token" content="9895f12e5c06ed27120d2a8f00e81e73">
    <meta id="viewport" name="viewport" content="width=device-width, initial-scale=0.01">
    <script type="text/javascript" async="" src="tasks_files/ga.js"></script><script type="text/javascript" src="tasks_files/jquery-1.js"></script>
    <script type="application/javascript">
        function adjustViewport() {
            var screenWidthPx = Math.min($(window).width(), window.screen.width);
            var siteWidthPx = 1100; // min width of site
            var ratio = Math.min(screenWidthPx / siteWidthPx, 1.0);
            var viewport = "width=device-width, initial-scale=" + ratio;
            $('#viewport').attr('content', viewport);
            var style = $('<style>html * { max-height: 1000000px; }</style>');
            $('html > head').append(style);
        }

        if ( /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent) ) {
            adjustViewport();
        }
    </script>
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="expires" content="-1">
    <meta http-equiv="profileName" content="p1">
    <meta name="google-site-verification" content="OTd2dN5x4nS4OPknPI9JFg36fKxjqY0i1PSfFPv_J90">
    <meta property="fb:admins" content="100001352546622">
    <meta property="og:image" content="http://st.codeforces.com/s/77114/images/codeforces-telegram-square.png">
    <link rel="image_src" href="http://st.codeforces.com/s/77114/images/codeforces-telegram-square.png">
    <meta property="og:title" content="Задачи - Codeforces">
    <meta property="og:description" content="">
    
    <meta property="og:site_name" content="Codeforces">
    
    
    
    
    
    <meta name="utc_offset" content="+03:00">
    <meta name="verify-reformal" content="f56f99fd7e087fb6ccb48ef2">
    <title>Задачи - Codeforces</title>
        <meta name="description" content="Codeforces. Соревнования и олимпиады по информатике и программированию, сообщество программистов">
        <meta name="keywords" content="программирование информатика контест олимпиада алгоритмы c++ java графы vkcup">
    <meta name="robots" content="index, follow">

    <link rel="stylesheet" href="tasks_files/font-awesome.css" type="text/css" charset="utf-8">

        <link href="tasks_files/css.css" rel="stylesheet" type="text/css">
        <link href="tasks_files/css_002.css" rel="stylesheet" type="text/css">


    <link rel="shortcut icon" type="image/png" href="http://st.codeforces.com/s/77114/favicon.png">

    <!--CombineResourcesFilter-->
    <link rel="stylesheet" href="tasks_files/prettify.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="tasks_files/clear.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="tasks_files/style_002.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="tasks_files/ttypography.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="tasks_files/problem-statement.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="tasks_files/second-level-menu.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="tasks_files/roundbox.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="tasks_files/datatable.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="tasks_files/table-form.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="tasks_files/topic.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="tasks_files/jquery_004.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="tasks_files/facebox.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="tasks_files/jquery_003.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="tasks_files/jquery_002.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="tasks_files/codeforces.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="tasks_files/colorbox.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="tasks_files/jquery.css" type="text/css" charset="utf-8">
        <link rel="stylesheet" href="tasks_files/community.css" type="text/css" charset="utf-8">
        <link rel="stylesheet" href="tasks_files/sidebar-menu.css" type="text/css" charset="utf-8">

    <script type="text/javascript" src="tasks_files/prettify.js"></script>
    <script type="text/javascript" src="tasks_files/moment.js"></script>
    <script type="text/javascript" src="tasks_files/pushstream.js"></script>
    <script type="text/javascript" src="tasks_files/jquery_002.js"></script>
    <script type="text/javascript" src="tasks_files/jquery_011.js"></script>
    <script type="text/javascript" src="tasks_files/jquery.js"></script>
    <script type="text/javascript" src="tasks_files/jquery_008.js"></script>
    <script type="text/javascript" src="tasks_files/facebox.js"></script>
    <script type="text/javascript" src="tasks_files/jquery_003.js"></script>
    <script type="text/javascript" src="tasks_files/wysiwyg_003.js"></script>
    <script type="text/javascript" src="tasks_files/wysiwyg_002.js"></script>
    <script type="text/javascript" src="tasks_files/wysiwyg_004.js"></script>
    <script type="text/javascript" src="tasks_files/wysiwyg.js"></script>
    <script type="text/javascript" src="tasks_files/jquery_006.js"></script>
    <script type="text/javascript" src="tasks_files/jquery_010.js"></script>
    <script type="text/javascript" src="tasks_files/jquery_012.js"></script>
    <script type="text/javascript" src="tasks_files/jquery_009.js"></script>
    <script type="text/javascript" src="tasks_files/jquery_004.js"></script>
    <script type="text/javascript" src="tasks_files/jquery_005.js"></script>
    <script type="text/javascript" src="tasks_files/sjcl.js"></script>
    <script type="text/javascript" src="tasks_files/codeforces-options.js"></script>
    <script type="text/javascript" src="tasks_files/codeforces.js"></script>
    <!--/CombineResourcesFilter-->

    <link rel="stylesheet" href="tasks_files/style_003.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="tasks_files/style.css" type="text/css" charset="utf-8">

    <script type="text/javascript" src="tasks_files/share.js" charset="utf-8"></script>

    <script type="text/javascript" src="tasks_files/jquery_013.js"></script>
    <script type="text/javascript" src="tasks_files/set.js"></script>

    <!--[if IE]>
    <style>
        #sidebar {
            padding-left: 1em;
            margin: 1em 1em 1em 0;
        }
    </style>
    <![endif]-->

        <script type="text/javascript" src="tasks_files/jquery_007.js"></script>
        <script src="tasks_files/openapi.js" type="text/javascript"></script>

</head>
<body><span style="display:none;" class="csrf-token" data-csrf="9895f12e5c06ed27120d2a8f00e81e73">&nbsp;</span>
<div class="button-up" style="display: none; opacity: 0.7; width: 50px; height:100%; position: fixed; left: 0; top: 0; cursor: pointer; text-align: center; line-height: 35px; color: #d3dbe4; font-weight: bold; font-size: 3.0rem;"><i class="icon-circle-arrow-up"></i></div>

<!-- Codeforces JavaScripts. -->
<script type="text/javascript">
    var queryMobile = Codeforces.queryString.mobile;
    if (queryMobile === "true" || queryMobile === "false") {
        Codeforces.putToStorage("useMobile", queryMobile == "true");
    } else {
        var useMobile = Codeforces.getFromStorage("useMobile");
        if (useMobile === true || useMobile === false) {
            if (useMobile != false) {
                Codeforces.redirect(Codeforces.updateUrlParameter(document.location.href, "mobile", useMobile));
            }
        }
    }
</script>
<script type="text/javascript">
    VK.init({apiId: 1961905});
</script>
<script type="text/javascript">
    if (window.parent.frames.length > 0) {
        window.stop();
    }
</script>

    <script type="text/javascript">
        $(document).ready(function () {
    (function () {
        jQuery.expr[':'].containsCI = function(elem, index, match) {
            return !match || !match.length || match.length < 4 || !match[3] || (
                    elem.textContent || elem.innerText || jQuery(elem).text() || ''
            ).toLowerCase().indexOf(match[3].toLowerCase()) >= 0;
        }
    }(jQuery));

    $.ajaxPrefilter(function(options, originalOptions, xhr) {
        var csrf = Codeforces.getCsrfToken();

        if (csrf) {
            var data = originalOptions.data;
            if (originalOptions.data !== undefined) {
                if (Object.prototype.toString.call(originalOptions.data) === '[object String]') {
                    data = $.deparam(originalOptions.data);
                }
            } else {
                data = {};
            }
            options.data = $.param($.extend(data, { csrf_token: csrf }));
        }
    });

    window.getCodeforcesServerTime = function(callback) {
        $.post("/data/time", {}, callback, "json");
    }

    window.updateTypography = function () {
        $("div.ttypography code").addClass("tt");
        $("div.ttypography pre>code").addClass("prettyprint").removeClass("tt");
        $("div.ttypography table").addClass("bordertable");
        prettyPrint();
    }

    $.ajaxSetup({ scriptCharset: "utf-8" ,contentType: "application/x-www-form-urlencoded; charset=UTF-8", headers: {
        'X-Csrf-Token': Codeforces.getCsrfToken()
    }});

    window.updateTypography();

    Codeforces.signForms();

    setTimeout(function() {
        $(".second-level-menu-list").lavaLamp({
            fx: "backout",
            speed: 1000
        });
    }, 0);


    Codeforces.countdown();
    $("a[rel='photobox']").colorbox();

        var count = 0;

        function getDelay() {
            var delay = 0;
            var last = Codeforces.getFromStorage("LastOnlineTimeUpdaterMillis", 0);
            if (last && last != null) {
                var period = count < 20 ? 180 * 1000 : 360 * 1000;
                delay = period - (new Date().getTime() - last);
                if (delay < 0)
                    delay = 0;
            }
            return delay;
        }

        window.setInterval(function () {
            if (getDelay() <= 0 && count < 120) {
                ++count;
                Codeforces.ping("/data/update-online");
            }
        }, 5000);

        var handle = "cher-nov";
        $("a.rated-user:contains(" + handle + "), span.participant:contains(" + handle + ")").each(function () {
            if ($(this).text() == handle) {
                var td = $(this).parent();
                var tr = $(this).parent().parent();
                if (td.is("td") && tr.is("tr")) {
                    tr.addClass("highlighted-row");
                }
            }
        });

    function showAnnouncements(json) {
        info("j=" + JSON.stringify(json));

        if (json.t != "a") {
            return;
        }
        console.log("Got announcement from channel");
        setTimeout(function() {
            Codeforces.showAnnouncements(json.d, "ru");
        }, Math.random() * 500);
    }
    if (Codeforces.getParticipantChannel()) {
        Codeforces.subscribe(Codeforces.getParticipantChannel(), function(json) {
            showAnnouncements(json);
        });
    }

    if (Codeforces.getContestChannel()) {
        Codeforces.subscribe(Codeforces.getContestChannel(), function(json) {
            showAnnouncements(json);
        });
    }

    if (Codeforces.getGlobalChannel()) {
        Codeforces.subscribe(Codeforces.getGlobalChannel(), function(json) {
            showAnnouncements(json);
        });
    }

    if (Codeforces.getUserChannel()) {
        Codeforces.subscribe(Codeforces.getUserChannel(), function(json) {
            showAnnouncements(json);
        });
    }

    $(".clickable-title").click(function() {
        Codeforces.alert($(this).attr("title"));
    }).css("position", "relative").css("bottom", "3px");


    Codeforces.reformatTimes();
    Codeforces.initializePubSub();

    Codeforces.setupSpoilers();
    Codeforces.setupTutorials("/data/problemTutorial");
        });
    </script>

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-743380-5']);
  _gaq.push(['_trackPageview']);

  (function () {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = (document.location.protocol == 'https:' ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


<div id="body">
<div style="width: 950px; margin: 0 auto;">
    <div id="header" style="position: relative;">
        <div style="float:left;">
                 <a href="http://codeforces.com/"><img src="tasks_files/codeforces-logo-with-telegram.png"></a>
        </div>
        <div class="lang">
            <div style="text-align: right;">
                <a href="http://codeforces.com/contest/740/problems?locale=en"><img src="tasks_files/gb.png" title="In English" alt="In English"></a>
                <a href="http://codeforces.com/contest/740/problems?locale=ru"><img src="tasks_files/ru.png" title="По-русски" alt="По-русски"></a>
            </div>
        </div>
        <br style="clear: both;">
    </div>

    <div style="text-align: center; font-size: 1.8rem; margin-bottom: 0.5em;" class="caption">Codeforces Round #381 (Div. 2)</div>
    <div style="border-top: 1px solid #ccc; height: 1em;"></div>

        <div style="margin-bottom: 4em;page-break-after: always;">

<div class="problemindexholder" problemindex="A">
<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">A. Алёна и тетрадки</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>1 секунда</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 мегабайт</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>Маленькая
 девочка Алёна пошла в канцелярский магазин, чтобы купить тетрадки для 
школы. В школе они изучают всего четыре предмета, следовательно девочка 
хочет, чтобы по каждому предмету у нее было одинаковое количество 
тетрадок. В магазине продаются три вида комплектов тетрадок: можно 
купить комплект из одной тетрадки за <span class="tex-span"><i>a</i></span> рублей, комплект из двух тетрадок за <span class="tex-span"><i>b</i></span> рублей и комплект из трех тетрадок за <span class="tex-span"><i>c</i></span> рублей. У девочки уже куплены <span class="tex-span"><i>n</i></span> тетрадок.</p><p>Какое минимальное количество денег девочке нужно будет потратить в магазине для покупки такого количество тетрадок <span class="tex-span"><i>k</i></span>, чтобы <span class="tex-span"><i>n</i> + <i>k</i></span> делилось на <span class="tex-span">4</span>? Количество комплектов каждого вида в магазине не ограничено. Алёна может покупать комплекты разных типов одновременно.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В единственной строке вам заданы <span class="tex-span">4</span> числа <span class="tex-span"><i>n</i></span>, <span class="tex-span"><i>a</i></span>, <span class="tex-span"><i>b</i></span>, <span class="tex-span"><i>c</i></span> через пробел (<span class="tex-span">1 ≤ <i>n</i>, <i>a</i>, <i>b</i>, <i>c</i> ≤ 10<sup class="upper-index">9</sup></span>).</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>В единственное строке выведите минимальное количество рублей, которое нужно потратить на покупку такого количества <span class="tex-span"><i>k</i></span> тетрадей, чтобы <span class="tex-span"><i>n</i> + <i>k</i></span> делилось на <span class="tex-span">4</span>.</p></div><div class="sample-tests"><div class="section-title">Примеры</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>1 1 3 4<br></pre></div><div class="output"><div class="title">Выходные данные</div><pre>3<br></pre></div><div class="input"><div class="title">Входные данные</div><pre>6 2 1 1<br></pre></div><div class="output"><div class="title">Выходные данные</div><pre>1<br></pre></div><div class="input"><div class="title">Входные данные</div><pre>4 4 4 4<br></pre></div><div class="output"><div class="title">Выходные данные</div><pre>0<br></pre></div><div class="input"><div class="title">Входные данные</div><pre>999999999 1000000000 1000000000 1000000000<br></pre></div><div class="output"><div class="title">Выходные данные</div><pre>1000000000<br></pre></div></div></div><div class="note"><div class="section-title">Примечание</div><p>В первом тесте из условия Алёна может купить <span class="tex-span">3</span> комплекта по <span class="tex-span">1</span> тетрадке, потратив <span class="tex-span">3<i>a</i> = 3</span> рубля. Итого она получит <span class="tex-span">4</span> тетрадки и сможет их распределить по предметам поровну.</p><p>Во втором тесте из условия Алёна может купить комплект из <span class="tex-span">2</span> тетрадок за <span class="tex-span"><i>b</i> = 1</span> рубль. Итого у нее будет <span class="tex-span">8</span> тетрадок.</p><p>В третьем тесте Алёна может распределить тетрадки, которые у нее уже есть, между <span class="tex-span">4</span> предметами поровну, поэтому она может ничего не покупать.</p><p>В четвертом тесте Алёна должна купить один комплект из одной тетрадки.</p></div></div><p>  </p></div>
</div>


<script type="text/javascript">
    $(document).ready(function () {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")
                && !endsWith(inputFile, "standard input")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")
                && !endsWith(outputFile, "standard output")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }

        var titleDiv = $("div.header div.title");



    });
</script>
        </div>
        <div style="margin-bottom: 4em;page-break-after: always;">

<div class="problemindexholder" problemindex="B">
<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">B. Интересные подмассивы</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>2 секунды</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 мегабайт</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>У маленькой девочки Алёны сегодня день рождения. У ее мамы есть массив из <span class="tex-span"><i>n</i></span> цветков. У каждого цветка есть настроение, настроение <span class="tex-span"><i>i</i></span>-го цветка равно <span class="tex-span"><i>a</i><sub class="lower-index"><i>i</i></sub></span>. Настроение может быть положительным, нулевым или отрицательным.</p><p>Назовем подмассивом произвольную последовательность из подряд идущих элементов массива. Мама предложила девочке некоторый набор подмассивов массива цветков. Алёне хочет выбрать некий набор подмассивов из набора, предложенного мамой. После того, как она это сделает, каждый цветок из массива прибавит к счастью девочки свое настроение, умноженное на количество выбранные девочкой подмассивов, в которые этот цветок попал.</p><p>Например, пусть у мамы есть <span class="tex-span">5</span> цветков, а их настроения равны <span class="tex-span">1,  - 2, 1, 3,  - 4</span>. Пусть мама выбрала подмассивы <span class="tex-span">(1,  - 2)</span>, <span class="tex-span">(3,  - 4)</span>, <span class="tex-span">(1, 3)</span>, <span class="tex-span">(1,  - 2, 1, 3)</span>. Тогда если девочка выберет третий и четвертый подмассивы, то: </p><ul> <li> первый цветок добавит к счастью Алёны <span class="tex-span">1·1 = 1</span>, потому что он попал в один подмассив, </li><li> второй цветок добавит <span class="tex-span">( - 2)·1 =  - 2</span>, потому что он попал в один подмассив, </li><li> третий цветок добавит <span class="tex-span">1·2 = 2</span>, потому что он попал в два подмассива, </li><li> четвертый цветок добавит <span class="tex-span">3·2 = 6</span>, потому что он попал в два подмассива, </li><li> пятый цветок добавит <span class="tex-span">( - 4)·0 = 0</span>, потому что он не попал ни в один подмассив. </li></ul><p>Таким образом, к счастью Алёны добавится <span class="tex-span">1 + ( - 2) + 2 + 6 + 0 = 7</span>. Алена хочет выбрать такие подмассивы из предложенных мамой, чтобы прибавка к ее счастью была максимально возможной. Помогите ей сделать это!</p><p>Алена может выбрать любое количество подмассивов, даже <span class="tex-span">0</span> или все, что были предложены мамой.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке находятся два целых числа <span class="tex-span"><i>n</i></span> и <span class="tex-span"><i>m</i></span> (<span class="tex-span">1 ≤ <i>n</i>, <i>m</i> ≤ 100</span>)&nbsp;— количество цветков и количество подмассивов предложенных мамой.</p><p>Во второй строке находятся настроения цветков&nbsp;— <span class="tex-span"><i>n</i></span> целых чисел <span class="tex-span"><i>a</i><sub class="lower-index">1</sub>, <i>a</i><sub class="lower-index">2</sub>, ..., <i>a</i><sub class="lower-index"><i>n</i></sub></span> (<span class="tex-span"> - 100 ≤ <i>a</i><sub class="lower-index"><i>i</i></sub> ≤ 100</span>).</p><p>В следующих <span class="tex-span"><i>m</i></span> строках заданы описания подмассивов, предложенных мамой. В <span class="tex-span"><i>i</i></span>-ой из этих строк заданы два целых числа <span class="tex-span"><i>l</i><sub class="lower-index"><i>i</i></sub></span> и <span class="tex-span"><i>r</i><sub class="lower-index"><i>i</i></sub></span> (<span class="tex-span">1 ≤ <i>l</i><sub class="lower-index"><i>i</i></sub> ≤ <i>r</i><sub class="lower-index"><i>i</i></sub> ≤ <i>n</i></span>), обозначающие подмассив <span class="tex-span"><i>a</i>[<i>l</i><sub class="lower-index"><i>i</i></sub>], <i>a</i>[<i>l</i><sub class="lower-index"><i>i</i></sub> + 1], ..., <i>a</i>[<i>r</i><sub class="lower-index"><i>i</i></sub>]</span>.</p><p>Каждый подмассив может встречаться более одного раза.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>Выведите одно число&nbsp;— максимально возможную прибавку к счастью Алёны.</p></div><div class="sample-tests"><div class="section-title">Примеры</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>5 4<br>1 -2 1 3 -4<br>1 2<br>4 5<br>3 4<br>1 4<br></pre></div><div class="output"><div class="title">Выходные данные</div><pre>7<br></pre></div><div class="input"><div class="title">Входные данные</div><pre>4 3<br>1 2 3 4<br>1 3<br>2 4<br>1 1<br></pre></div><div class="output"><div class="title">Выходные данные</div><pre>16<br></pre></div><div class="input"><div class="title">Входные данные</div><pre>2 2<br>-1 -2<br>1 1<br>1 2<br></pre></div><div class="output"><div class="title">Выходные данные</div><pre>0<br></pre></div></div></div><div class="note"><div class="section-title">Примечание</div><p>Первый тест из условия соответствует ситуации, разобранной в условии.</p><p>Во втором тесте из условия Алёне необходимо выбрать все подмассивы.</p><p>В третьем тесте из условия ответ <span class="tex-span">0</span>, так как можно не выбирать ни один подмассив.</p></div></div><p>  </p></div>
</div>


<script type="text/javascript">
    $(document).ready(function () {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")
                && !endsWith(inputFile, "standard input")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")
                && !endsWith(outputFile, "standard output")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }

        var titleDiv = $("div.header div.title");



    });
</script>
        </div>
        <div style="margin-bottom: 4em;page-break-after: always;">

<div class="problemindexholder" problemindex="C">
<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">C. Алёна и mex</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>2 секунды</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 мегабайт</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>Мама хочет подарить маленькой девочке Алёне массив из <span class="tex-span"><i>n</i></span> целых неотрицательных чисел. Но массив должен быть особенным. </p><p>Алёна девочка капризная, поэтому когда мама подарит ей массив, Алёна рассмотрит <span class="tex-span"><i>m</i></span> подмассивов подаренного ей массива. Назовем подмассивом некоторую последовательность из подряд идущих чисел в массиве. <span class="tex-span"><i>i</i></span>-ый подмассив задается двумя числами <span class="tex-span"><i>l</i><sub class="lower-index"><i>i</i></sub></span> и <span class="tex-span"><i>r</i><sub class="lower-index"><i>i</i></sub></span>, и он состоит из чисел <span class="tex-span"><i>a</i>[<i>l</i><sub class="lower-index"><i>i</i></sub>], <i>a</i>[<i>l</i><sub class="lower-index"><i>i</i></sub> + 1], ..., <i>a</i>[<i>r</i><sub class="lower-index"><i>i</i></sub>]</span>. </p><p>Капризная Алёна посмотрит на <span class="tex-font-style-it">mex</span> каждого подмассива. Среди всех <span class="tex-span"><i>m</i></span> <span class="tex-font-style-it">mex</span>-ов девочка выберет минимальный, и она хотела бы, чтобы минимальный <span class="tex-font-style-it">mex</span> был как можно больше. </p><p>Ваша задача найти массив <span class="tex-span"><i>a</i></span> из <span class="tex-span"><i>n</i></span> неотрицательных чисел такой, чтобы минимальный <span class="tex-font-style-it">mex</span> подмассивов, заданных Алёной, был максимален.</p><p><span class="tex-font-style-it">mex</span> множества чисел <span class="tex-span"><i>S</i></span>&nbsp;— это минимальное неотрицательное число, которое не встречается в множестве <span class="tex-span"><i>S</i></span>.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке находятся два числа <span class="tex-span"><i>n</i></span> и <span class="tex-span"><i>m</i></span> (<span class="tex-span">1 ≤ <i>n</i>, <i>m</i> ≤ 10<sup class="upper-index">5</sup></span>).</p><p>В следующих <span class="tex-span"><i>m</i></span> строках задано описание подмассивов, интересующих Алёну. В <span class="tex-span"><i>i</i></span>-ой из этих строк заданы два числа <span class="tex-span"><i>l</i><sub class="lower-index"><i>i</i></sub></span> и <span class="tex-span"><i>r</i><sub class="lower-index"><i>i</i></sub></span> (<span class="tex-span">1 ≤ <i>l</i><sub class="lower-index"><i>i</i></sub> ≤ <i>r</i><sub class="lower-index"><i>i</i></sub> ≤ <i>n</i></span>), которым соответствует подмассив <span class="tex-span"><i>a</i>[<i>l</i><sub class="lower-index"><i>i</i></sub>], <i>a</i>[<i>l</i><sub class="lower-index"><i>i</i></sub> + 1], ..., <i>a</i>[<i>r</i><sub class="lower-index"><i>i</i></sub>]</span>.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>В первой строке выведете одно число&nbsp;— максимально возможный минимальный <span class="tex-font-style-it">mex</span>.</p><p>Во второй строке выведете <span class="tex-span"><i>n</i></span> чисел&nbsp;— массив <span class="tex-span"><i>a</i></span>. Числа в массиве <span class="tex-span"><i>a</i></span> должны быть от <span class="tex-span">0</span> до <span class="tex-span">10<sup class="upper-index">9</sup></span>.</p><p>Гарантируется, что существует оптимальный ответ, в котором все числа в массиве <span class="tex-span"><i>a</i></span> находятся в пределах от <span class="tex-span">0</span> до <span class="tex-span">10<sup class="upper-index">9</sup></span>.</p></div><div class="sample-tests"><div class="section-title">Примеры</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>5 3<br>1 3<br>2 5<br>4 5<br></pre></div><div class="output"><div class="title">Выходные данные</div><pre>2<br>1 0 2 1 0<br></pre></div><div class="input"><div class="title">Входные данные</div><pre>4 2<br>1 4<br>2 4<br></pre></div><div class="output"><div class="title">Выходные данные</div><pre>3<br>5 2 0 1</pre></div></div></div><div class="note"><div class="section-title">Примечание</div><p>Пояснение к тесту из условия: на подмассиве <span class="tex-span">(1, 3)</span> <span class="tex-font-style-it">mex</span> равен <span class="tex-span">3</span>, на подмассиве <span class="tex-span">(2, 5)</span> <span class="tex-font-style-it">mex</span> равен <span class="tex-span">2</span> и на подмассиве <span class="tex-span">(4, 5)</span> <span class="tex-font-style-it">mex</span> тоже равен <span class="tex-span">2</span>, следовательно минимальный <span class="tex-font-style-it">mex</span> среди подмассивов, интересующих Алёну, равен <span class="tex-span">2</span>.</p></div></div><p>  </p></div>
</div>


<script type="text/javascript">
    $(document).ready(function () {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")
                && !endsWith(inputFile, "standard input")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")
                && !endsWith(outputFile, "standard output")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }

        var titleDiv = $("div.header div.title");



    });
</script>
        </div>
        <div style="margin-bottom: 4em;page-break-after: always;">

<div class="problemindexholder" problemindex="D">
<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">D. Алёна и дерево</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>2 секунды</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 мегабайт</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>У Алёны есть дерево из <span class="tex-span"><i>n</i></span> вершин. Корень дерева&nbsp;— вершина с номером <span class="tex-span">1</span>. В вершину с номером <span class="tex-span"><i>i</i></span> Алёна записала положительное целое число <span class="tex-span"><i>a</i><sub class="lower-index"><i>i</i></sub></span>. Также, девочка записала на каждом ребре дерева какое-то положительное целое число (возможно, различные числа на различных ребрах).</p><p>Определим <span class="tex-span"><i>dist</i>(<i>v</i>, <i>u</i>)</span> как сумму чисел, записанных на ребрах, которые лежат на кратчайшем пути из <span class="tex-span"><i>v</i></span> в <span class="tex-span"><i>u</i></span>.</p><p>Вершина дерева <span class="tex-span"><i>v</i></span> контролирует вершину <span class="tex-span"><i>u</i></span> (<span class="tex-span"><i>v</i> ≠ <i>u</i></span>), если <span class="tex-span"><i>u</i></span> лежит в поддереве <span class="tex-span"><i>v</i></span> и <span class="tex-span"><i>dist</i>(<i>v</i>, <i>u</i>) ≤ <i>a</i><sub class="lower-index"><i>u</i></sub></span>.</p><p>Девочка хочет поселиться в некоторой вершине дерева. Для этого она хотела бы знать для каждой вершины <span class="tex-span"><i>v</i></span>, сколько в дереве есть вершин <span class="tex-span"><i>u</i></span> таких, что вершина <span class="tex-span"><i>v</i></span> контролирует вершину <span class="tex-span"><i>u</i></span>.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке находится одно число <span class="tex-span"><i>n</i></span> (<span class="tex-span">1 ≤ <i>n</i> ≤ 2·10<sup class="upper-index">5</sup></span>).</p><p>Во второй строке находится <span class="tex-span"><i>n</i></span> целых чисел <span class="tex-span"><i>a</i><sub class="lower-index">1</sub>, <i>a</i><sub class="lower-index">2</sub>, ..., <i>a</i><sub class="lower-index"><i>n</i></sub></span> (<span class="tex-span">1 ≤ <i>a</i><sub class="lower-index"><i>i</i></sub> ≤ 10<sup class="upper-index">9</sup></span>)&nbsp;— числа, записанные в вершинах.</p><p>В следующих <span class="tex-span">(<i>n</i> - 1)</span>-й строке находятся по 2 числа. В <span class="tex-span"><i>i</i></span>-й из этих строк находятся целые числа <span class="tex-span"><i>p</i><sub class="lower-index"><i>i</i></sub></span> и <span class="tex-span"><i>w</i><sub class="lower-index"><i>i</i></sub></span> (<span class="tex-span">1 ≤ <i>p</i><sub class="lower-index"><i>i</i></sub> ≤ <i>n</i></span>, <span class="tex-span">1 ≤ <i>w</i><sub class="lower-index"><i>i</i></sub> ≤ 10<sup class="upper-index">9</sup></span>)&nbsp;— предок вершины <span class="tex-span">(<i>i</i> + 1)</span> и число, написанное на ребре от <span class="tex-span"><i>p</i><sub class="lower-index"><i>i</i></sub></span> к <span class="tex-span">(<i>i</i> + 1)</span>.</p><p>Гарантируется, что заданный граф&nbsp;— дерево.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>Выведите в одной строке <span class="tex-span"><i>n</i></span> чисел&nbsp;— <span class="tex-span"><i>i</i></span>-е из этих чисел должно равняться количеству вершин, которое контролируется вершиной с номером <span class="tex-span"><i>i</i></span>.</p></div><div class="sample-tests"><div class="section-title">Примеры</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>5<br>2 5 1 4 6<br>1 7<br>1 1<br>3 5<br>3 6<br></pre></div><div class="output"><div class="title">Выходные данные</div><pre>1 0 1 0 0<br></pre></div><div class="input"><div class="title">Входные данные</div><pre>5<br>9 7 8 6 5<br>1 1<br>2 1<br>3 1<br>4 1<br></pre></div><div class="output"><div class="title">Выходные данные</div><pre>4 3 2 1 0<br></pre></div></div></div><div class="note"><div class="section-title">Примечание</div><p>В тесте из условия вершина <span class="tex-span">1</span> контролирует вершину <span class="tex-span">3</span>, также вершина <span class="tex-span">3</span> контролирует вершину <span class="tex-span">5</span> (обратите внимание, отсюда не следует, что вершина <span class="tex-span">1</span> контролирует вершину <span class="tex-span">5</span>).</p></div></div><p>  </p></div>
</div>


<script type="text/javascript">
    $(document).ready(function () {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")
                && !endsWith(inputFile, "standard input")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")
                && !endsWith(outputFile, "standard output")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }

        var titleDiv = $("div.header div.title");



    });
</script>
        </div>
        <div style="margin-bottom: 2em;">

<div class="problemindexholder" problemindex="E">
<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">E. Алёна и башни</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>2 секунды</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 мегабайт</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>У Алёны есть <span class="tex-span"><i>n</i></span> башен из кубиков. Каждый кубик имеет размеры <span class="tex-span">1 × 1 × 1</span>. Башня представляет из себя ненулевое количество кубиков, стоящих друг на друге. Башни стоят вплотную в один ряд.</p><p>Алёна выбирает некую непрерывную последовательность башен и на каждую башню сверху кладет еще сколько-то кубиков. Более формально: Алёна выбирает последовательность башен с <span class="tex-span"><i>l</i><sub class="lower-index"><i>i</i></sub></span> по <span class="tex-span"><i>r</i><sub class="lower-index"><i>i</i></sub></span> и на каждую из этих башен кладет сверху еще по <span class="tex-span"><i>d</i><sub class="lower-index"><i>i</i></sub></span> кубиков.</p><p>Пусть <span class="tex-span"><i>a</i><sub class="lower-index">1</sub>, <i>a</i><sub class="lower-index">2</sub>, ..., <i>a</i><sub class="lower-index"><i>n</i></sub></span>&nbsp;— высоты башен слева направо. Назовем непрерывную последовательность башен <span class="tex-span"><i>a</i><sub class="lower-index"><i>l</i></sub>, <i>a</i><sub class="lower-index"><i>l</i> + 1</sub>, ..., <i>a</i><sub class="lower-index"><i>r</i></sub></span> горой, если существует такое <span class="tex-span"><i>k</i></span> (<span class="tex-span"><i>l</i> ≤ <i>k</i> ≤ <i>r</i></span>), что <span class="tex-span"><i>a</i><sub class="lower-index"><i>l</i></sub> &lt; <i>a</i><sub class="lower-index"><i>l</i> + 1</sub> &lt; <i>a</i><sub class="lower-index"><i>l</i> + 2</sub> &lt; ... &lt; <i>a</i><sub class="lower-index"><i>k</i></sub> &gt; <i>a</i><sub class="lower-index"><i>k</i> + 1</sub> &gt; <i>a</i><sub class="lower-index"><i>k</i> + 2</sub> &gt; ... &gt; <i>a</i><sub class="lower-index"><i>r</i></sub></span>.</p><p>После каждого добавления <span class="tex-span"><i>d</i><sub class="lower-index"><i>i</i></sub></span> кубиков на непрерывной последовательности башен с <span class="tex-span"><i>l</i><sub class="lower-index"><i>i</i></sub></span> по <span class="tex-span"><i>r</i><sub class="lower-index"><i>i</i></sub></span> Алёна хотела бы знать максимальную ширину горы. Ширина непрерывной последовательности башен равна количеству башен в ней.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке находится целое число <span class="tex-span"><i>n</i></span> (<span class="tex-span">1 ≤ <i>n</i> ≤ 3·10<sup class="upper-index">5</sup></span>)&nbsp;— количество башен из кубиков.</p><p>Во второй строке находятся <span class="tex-span"><i>n</i></span> целых чисел&nbsp;— <span class="tex-span"><i>a</i><sub class="lower-index">1</sub>, <i>a</i><sub class="lower-index">2</sub>, ..., <i>a</i><sub class="lower-index"><i>n</i></sub></span> (<span class="tex-span">1 ≤ <i>a</i><sub class="lower-index"><i>i</i></sub> ≤ 10<sup class="upper-index">9</sup></span>)&nbsp;— количество кубиков в каждой башне. </p><p>В третьей строке находится целое число <span class="tex-span"><i>m</i></span> (<span class="tex-span">1 ≤ <i>m</i> ≤ 3·10<sup class="upper-index">5</sup></span>)&nbsp;— количество запросов.</p><p>В следующих <span class="tex-span"><i>m</i></span> строках находятся по <span class="tex-span">3</span> числа. В <span class="tex-span"><i>i</i></span>-й из этих строк записаны целые числа <span class="tex-span"><i>l</i><sub class="lower-index"><i>i</i></sub></span>, <span class="tex-span"><i>r</i><sub class="lower-index"><i>i</i></sub></span> и <span class="tex-span"><i>d</i><sub class="lower-index"><i>i</i></sub></span> (<span class="tex-span">1 ≤ <i>l</i> ≤ <i>r</i> ≤ <i>n</i></span>, <span class="tex-span">1 ≤ <i>d</i><sub class="lower-index"><i>i</i></sub> ≤ 10<sup class="upper-index">9</sup></span>), которые обозначают, что нужно на каждую башню с <span class="tex-span"><i>l</i><sub class="lower-index"><i>i</i></sub></span>-й по <span class="tex-span"><i>r</i><sub class="lower-index"><i>i</i></sub></span>-ю положить сверху по <span class="tex-span"><i>d</i><sub class="lower-index"><i>i</i></sub></span> кубиков.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>Выведите <span class="tex-span"><i>m</i></span> строк. В <span class="tex-span"><i>i</i></span>-й строке выведите максимальную ширину горы после обработки <span class="tex-span"><i>i</i></span>-го запроса.</p></div><div class="sample-tests"><div class="section-title">Пример</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>5<br>5 5 5 5 5<br>3<br>1 3 2<br>2 2 1<br>4 4 1<br></pre></div><div class="output"><div class="title">Выходные данные</div><pre>2<br>4<br>5<br></pre></div></div></div><div class="note"><div class="section-title">Примечание</div><p>Рассмотрим тест из условия:</p><p>После добавления по <span class="tex-span">2</span> кубика на каждую башню с первой по третью высоты станут равны <span class="tex-span">[7, 7, 7, 5, 5]</span>. Максимальная по ширине гора&nbsp;— <span class="tex-span">[7, 5]</span>, следовательно, ответ <span class="tex-span">2</span>.</p><p>После добавления <span class="tex-span">1</span> кубика на вторую башню высоты станут равны <span class="tex-span">[7, 8, 7, 5, 5]</span>. Максимальная по ширине гора&nbsp;— <span class="tex-span">[7, 8, 7, 5]</span>, следовательно, ответ <span class="tex-span">4</span>.</p><p>После добавления <span class="tex-span">1</span> кубика на четвертую башню высоту станут равны <span class="tex-span">[7, 8, 7, 6, 5]</span>. Максимальная по ширине гора&nbsp;— <span class="tex-span">[7, 8, 7, 6, 5]</span>, следовательно, ответ <span class="tex-span">5</span>.</p></div></div><p>  </p></div>
</div>


<script type="text/javascript">
    $(document).ready(function () {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")
                && !endsWith(inputFile, "standard input")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")
                && !endsWith(outputFile, "standard output")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }

        var titleDiv = $("div.header div.title");



    });
</script>
        </div>

    <br style="clear: both;">

    <div id="footer">
        <div><a href="http://codeforces.com/">Codeforces</a> (c) Copyright 2010-2016 Михаил Мирзаянов</div>
        <div>Соревнования по программированию 2.0</div>

    </div>
</div>


</div><div id="datepick-div" style="display: none;"></div><div id="cboxOverlay" style="display: none;"></div><div id="colorbox" class="" style="display: none; padding-bottom: 42px; padding-right: 42px;"><div id="cboxWrapper"><div><div id="cboxTopLeft" style="float: left;"></div><div id="cboxTopCenter" style="float: left;"></div><div id="cboxTopRight" style="float: left;"></div></div><div style="clear: left;"><div id="cboxMiddleLeft" style="float: left;"></div><div id="cboxContent" style="float: left;"><div id="cboxLoadedContent" style="width: 0px; height: 0px; overflow: hidden; float: left;"></div><div id="cboxLoadingOverlay" style="float: left;"></div><div id="cboxLoadingGraphic" style="float: left;"></div><div id="cboxTitle" style="float: left;"></div><div id="cboxCurrent" style="float: left;"></div><div id="cboxNext" style="float: left;"></div><div id="cboxPrevious" style="float: left;"></div><div id="cboxSlideshow" style="float: left;"></div><div id="cboxClose" style="float: left;"></div></div><div id="cboxMiddleRight" style="float: left;"></div></div><div style="clear: left;"><div id="cboxBottomLeft" style="float: left;"></div><div id="cboxBottomCenter" style="float: left;"></div><div id="cboxBottomRight" style="float: left;"></div></div></div><div style="position: absolute; width: 9999px; visibility: hidden; display: none;"></div></div></body></html>